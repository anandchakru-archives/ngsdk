<ng-container *ngIf="util.authLoaded">
  <!-- header -->
  <nav class="slidedown navbar navbar-expand-md navbar-dark bg-dark fixed-top mb-5"
    [ngClass]="util.isHost()?'justify-content-between':''">
    <a class="navbar-brand" href="//nivite.jrvite.com" (click)="util.toggleNav(); true" target="_blank"
      rel="noopener noreferrer">Nivite
    </a>

    <button class="navbar-toggler" type="button" (click)="util.toggleNav()" aria-label="Toggle navigation" #toggler>
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse" [class.collapse]="util.collapsed">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="https://nivite.jrvite.com/ws/editor" (click)="util.toggleNav(); true"
          target="_blank" rel="noopener noreferrer">New invite</a>
      </div>
      <div class="navbar-nav mr-auto" *ngIf="util.user">
        <a class="nav-item nav-link" href="https://nivite.jrvite.com/ws/invites/list" (click)="util.toggleNav(); true"
          target="_blank" rel="noopener noreferrer">My invites</a>
      </div>
      <div class="navbar-nav">
        <ng-container *ngIf="util.user; else noauth">
          <a class="nav-item nav-link">
            <span>{{util.user?.email}}</span>
          </a>
          <a class="nav-item nav-link pointer" (click)="util.toggleNav(); util.logout(); false;">Logout</a>
        </ng-container>
        <ng-template #noauth>
          <a class="nav-item nav-link pointer" (click)="util.toggleNav(); login()">
            <span>Login</span>
          </a>
        </ng-template>
      </div>
    </div>
  </nav>
  <!-- footer -->
  <nav class="slideup navbar fixed-bottom navbar-light bg-light justify-content-between">
    <div class="btn-group">
      <a class="nav-item nav-link btn btn-sm btn-primary pointer text-dark"
        (click)="util.toggleNav(); util.showModal('rsvp'); false;"> RSVP
        <span class="sr-only">RSVP</span>
      </a>
      <a class="nav-item nav-link btn btn-sm btn-primary pointer text-dark" (click)="util.showModal('atc')">
        Calendar
        <span class="sr-only">Add to calendar</span>
      </a>
      <a *ngIf="util.invite?.addrUrl" class="nav-item nav-link btn btn-sm btn-primary pointer text-dark"
        href="{{util.invite?.addrUrl}}" target="_blank" rel="noopener noreferrer"> Map <span
          class="sr-only">Navigate</span>
      </a>
    </div>
    <div class="btn-group">
      <a (click)="clog.toggle(); false;" class="small pointer" [ngClass]="clog.visible?'text-primary':'text-muted'">
        {{buildinfo?buildinfo.tag:'{}'}}
      </a>
    </div>
  </nav>
</ng-container>
<ng-template #loading>
  loading.
</ng-template>